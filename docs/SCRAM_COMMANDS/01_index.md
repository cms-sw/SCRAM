# SCRAM COMMANDS

## Common Options

       All scram commands recognize following options.

       -h, --help
          To show the help message for the selected command e.g.
          scram list -h

## COMMANDS

<!--- This will include toctree as it was .rst document -->

```eval_rst
.. toctree::
   :maxdepth: 3
   :glob:

   commands/*
```

### build [options] [gmake-options] [<targets>]

          Build the productions (shared libraries,  plugins,  executables  and
          tests) for the current project area.

          OPTIONS

          -c, --convertxml
             Obsolete: Convert any old-style BuildFile in to new BuildFile.xml

          -f, --fast
             Skip checking the internal SCRAM cache update and go straight  to
             build/gamke

          --ignore-arch
             Avoid SCRAM warning about architecture mismatch e.g. compiling on
             SLC5 machine an slc6_* based release.

          -r, --reset
             Reset/re-generate all internal SCRAM caches for your  development
             area.

          -t, --testrun
             Do not run gmake but only do any internal SCRAM caches updates.

          -v, --verbose
             For more verbose output from the underlaying gmake process

          GMAKE OPTIONS
          You  can pass any gmake command-line option which does not conflicit
          with 'scram build' options. e.g.

          -j [N], --jobs[=N]
             Allow N jobs at once; infinite jobs with missing N

          -k, --keep-going
             Keep going when some targets can't be made

          TARGETS

          help
             Shows what SCRAM will build for your current working directory.

          clean
             Clean up all the products built/generated by SCRAM.

          python
             To just build python i.e. creating sym-links and compiling python
             modules.

          runtests
             Build  and  run all tests for the project, or package-level tests
             only

          unittests
             Same as runtests but does not try to build the test first.

          checker
             Run LLVM static checkers

          dxr
             Generate DXR indexes for the release.

          gindices
             Generate glimpse indexes for the release.

          enable-biglib disable-biglib check-biglib
             Disable/enable/check big EDM plugins

          updateclassversion
             Run  the  edmCheckClassVersion  and   generate   new   src/<pack-
             age>/classes_def.xml.generated file.

          prebuild postbuild
             Execute any pre/post-build target for the project e.g. generating
             various source file for root/lcg dictionaries etc.

          src release release-build all project
             Build all products  (shared  libs,  plugins,  binaries)  for  the
             project

          <path>
             Build  all  products  (shared  libs, plugins, binaries) and their
             dependencies for src/<path>

          runtime
             Dump the runtime environment used at build time.

          ProjectRename projectrename PROJECTRENAME
             Fix the project area which was move/renamed after its creation.

          ExternalLinks ToolUpdated
             Re-create symblinks for externals tools.

          echo_<tool|package>_USED_BY
             Shows what depends on <tool> or <package> e.g.

                scram build echo_boost_USED_BY
                scram build echo_FWCore/Framework_USED_BY

             should show what depend on boost and FWCore/Framework

          echo_<tool|package>_USES
             Shows what is the dependency of <tool> or <package>

          echo_<productname>_ORIGIN
             Shows from which package <productname> was built.

          echo_<variable>
             Shows the value of a variable used by the game e.g.

                scram build echo_CXXFLAGS

             shows the default flags used by the CXX compilers

### config [<parameter[=value]

          Show/Set site specific parameters.Running it  without  any  argument
          shows all the available parameters and their values for your site.

          OPTIONS

          <paramter>
             Shows current and valid values for <paramter>.

          <paramter>=<value>
             Set new <value> for the <paramter>.

          Supported site configuration parameters are

             release-checks=1|0|yes|no
                Enable/disable  release  checks e.g. production architectures,
                deprecated releases.  This avoids accessing releases  informa-
                tion from internet. Default value is 1.

             release-checks-timeout=[3-9]|[1-9][0-9]+
                Time  in seconds after which a request to get release informa-
                tion should be timed out (min. value  3s).  Default  value  is
                10s.

### db --show|--link <path>|--unlink <path>

          Show,  link/add  or  unlink/remove additional SCRAM db. By adding an
          external SCRAM db in your local scram db allows  scram  to  let  you
          create  developers area for projects/releases available in other cms
          installation.   Your   local   scram   db   is    available    under
          $CMS_PATH/etc/scramrc/links.db

          OPTIONS

          -l , --link <path>
             Link/Add an external scram db <path> in to local scram db.

          -s, --show
             Show all the external databases linked in to your SCRAM db.

          -u, --unlink <path>
             Unlink/Remove an already linked external db <path> from the local
             scram db.

### list [options] [<project_name>] [<version>]

          Show available SCRAM-based projects for the selected SCRAM_ARCH.

          OPTIONS

          -a, --all
             Show projects for all available architectures.

          -c --compact
             Show project list in compact format. Output format of  each  line
             will be
                ProjectName Version ReleaseInstallPath

          -e, --exists
             Show  only  projects  will actually looks OK. Note, this might be
             slow on distributed  filesystems  as  SCRAM  has  to  check  each
             installed project and its version.

          <project_name>
             Optional:  Name of the project for which SCRAM should display the
             available versions.

          <version>
             Optional: To Show only those  installed  versions  which  contain
             <version>

### project  [options]  <-boot  bootstrap_file>  | <project_name version> |

       <release_path>
          Creates  a  project  developer  area  based  on  a release area or a
          release area using the project definition from the <bootstrap_file>.
          You can find the available releases by running 'scram list' command.

          OPTIONS

          -d, --dir <path>
             Indicate a project installation area into which the  new  project
             area should appear. Default is the current working directory.

          -f, --force
             Force  creation of developer area without checking for production
             architecture  and  deprecated  release  information.  This  avoid
             accessing releases information via internet.

          -l, --log
             See the detail log message while creating a dev area.

          -n, --name <name>
             Specify  the  name of the SCRAM-base development area you wish to
             create. By default <version> is used.

          -s, --symlinks
             Creates symlinks  for  various  product  build  directories  e.g.
             lib/bin/tmp. You need to have ~/.scramrc/symlinks file to config-
             ure the symlink creation e.g. something like the following in the
             ~/.scramrc/symlinks file

             lib:/tmp/$(USER)/path
             tmp:/tmp/$(USER)/path

             will create

             /tmp/$(USER)/path/lib.<dummyname> -> $(LOCALTOP)/lib
             /tmp/$(USER)/path/tmp.<dummyname> -> $(LOCALTOP/tmp

             You  can  use $(SCRAM_PROJECTNAME) and $(SCRAM_PROJECTVERSION) in
             the .scramrc/symlinks file to create separate tmp areas for  dif-
             ferent projects.

          -b, --boot <bootstrap_file>
             Creates a release area using the bootstrap file <bootstrap_file>.

          [<project_name>] <version>
             Creates a developer area based on an  already  available  release
             <version>.

          <release_path>
             Creates a developer area based on <release_path> release area.

### runtime -csh|-sh|-win [--dump <file>]

          Shows  the list of shell commands needed to set the runtime environ-
          ment for the release. This command needs to be run from a release or
          developer  area.  You can eval the output of this command to set the
          runtime environment e.g.  eval 'scram runtime -sh'

          OPTIONS

          -csh
             Show runtime commands for csh/tcsh shell.

          -sh
             Show runtime commands for sh/bash/zsh shell.

          -win
             Show runtime commands for cygwin.

          --dump <file>
             Optional: Save the  runtime  environment  in  a  <file>  for  the
             selected shell.

### setup [<toolname>|<toolfile>.xml]

          Setup/add  an  external tool to be used by the project. All selected
          tools        definitions        exists        in        config/tool-
          box/$SCRAM_ARCH/tools/selected  directory  in  your project area. In
          order to change the tool definition, modify  the  corresponding  xml
          toolfile and run scram setup <tool> command.

          This command needs to be run from a release or developer area.

          OPTIONS

          <toolname>
             Name of the external tool which is already by the scram. A corre-
             sponding  <toolname>.xml   should   exists   under   config/tool-
             box/$SCRAM_ARCH/tools.

          <toolfile>.xml
             Full   path   of   the  toolfile.  SCRAM  will  make  a  copy  of
             <toolfile>.xml in to config/toolbox/$SCRAM_ARCH/tools for  future
             use.

### tool

          This  command  consists of many sub-commands which deals with exter-
          nals tools. This command needs to be run from a release or developer
          area.

### tool list

          Shows the list of all selected tools names and their versions.

### tool info <toolname>

          Shows the current tool definition for tool <toolname>.

### tool remove <toolname>

          Makes the tool <toolname> unavailable. SCRAM moves the tools defini-
          tion  file   from   config/toolbox/$SCRAM_ARCH/tools/selected/<tool-
          name>.xml  to  config/toolbox/$SCRAM_ARCH/tools/available directory.
          So if one needs to select this tool again then just run 'scram setup
          <toolname>' command.

### tool tag <toolname> <tag_name>

          Shows the value of a variable(tag_name) for the <toolname> e.g.

             scram tool tag gcc-cxxcompiler CXX

          shows the c++ compiler's path.

### unsetenv -csh|-sh|-win

          Shows  the  list of shell commands needed to unset the runtime envi-
          ronment set previously by 'scram runtime command'. You can eval  the
          output of this command to cleanup your previously set scram environ-
          ment e.g.  eval 'scram unsetenv -sh'

          OPTIONS

          -csh
             Show unset commands for csh/tcsh shell.

          -sh
             Show unset commands for sh/bash/zsh shell.

          -win
             Show unset commands for cygwin.

### version

          Show default version of SCRAM. If this command is run from a  SCRAM-
          based release/developer area then it shows the latest available ver-
          sion of SCRAM available for that release.