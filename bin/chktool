#!/usr/bin/env perl

BEGIN
   {
   use File::Basename;
   use Cwd;
   my $installdir=dirname($0);
   if ($installdir!~/^\//)
      {
      $installdir=getcwd()."/${installdir}";
      }
   $installdir=dirname($installdir);
   unshift @INC,"$installdir", "${installdir}/src";
   }

use BuildSystem::ToolParser;
$ENV{SCRAM_PATH_VARIABLES}="^(PATH|LD_LIBRARY_PATH|DYLD_LIBRARY_PATH|DYLD_FALLBACK_LIBRARY_PATH|PYTHONPATH)\$";
while (my $tool=shift)
{
  print ">> Testing tool \"$tool\" ... \n";
  my $p = BuildSystem::ToolParser->new();
  $p->filehead ('<?xml version="1.0" encoding="UTF-8" standalone="yes"?><doc type="BuildSystem::ToolDoc" version="1.0">');
  $p->filetail ('</doc>');
  $p->parse($tool);
}
